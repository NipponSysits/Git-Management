const config 		= require('$custom/config');
const mongoose 	= require('mongoose');

const Schema = {
	Commits: mongoose.Schema({
	  commit_id: String,
	  repository_id: Number,
	  author: String,
	  email: String,
		subject: String,
		comment: String,
		logs: Boolean,
	  since: Date
	}),
	Clients: mongoose.Schema({
	  user_id: Number,
	  fullname: String,
	}),
	Users: mongoose.Schema({
	 any: {} 
	})
}
console.log('connecting.. ', config.mongoose);
mongoose.connect(config.mongoose);
const name = (config.arg == 'default') ? 'logs' : 'test';

module.exports = {
	Commit: mongoose.model(name+'_commits', Schema.Commits),
	Client: mongoose.model(name+'_clients', Schema.Clients),
	User: mongoose.model('users', Schema.Users),
}